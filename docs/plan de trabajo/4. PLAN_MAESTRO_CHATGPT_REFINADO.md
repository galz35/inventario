# Plan Maestro Refinado: INVCORE (Estrategia Demo vs Realidad)
> An√°lisis cr√≠tico de las sugerencias de "ChatGPT Enterprise" filtradas por viabilidad inmediata (24h) vs valor a largo plazo.

---

## üõë Lo que DESCARTAMOS para Ma√±ana (Overkill/Riesgo Alto)
Estos puntos son t√©cnicamente correctos para una multinacional, pero implementar ahora romper√≠a el sistema antes de la demo.

1.  **Matriz de Permisos Granular (Ver/Crear/Editar por m√≥dulo):**
    *   *Por qu√© no:* Requiere reescribir todos los `Guards` y la UI de cada bot√≥n.
    *   *Soluci√≥n:* Nos quedamos con los Roles actuales (Admin, T√©cnico, Bodega) que funcionan perfecto.
2.  **Reescritura a TVP (Table Valued Parameters) en SPs:**
    *   *Por qu√© no:* Cambiar el coraz√≥n transaccional de "Item por Item" a "Tabla en Memoria" es cirug√≠a a coraz√≥n abierto.
    *   *Soluci√≥n:* El loop actual es seguro para el volumen de la demo.
3.  **Seguridad por `SESSION_CONTEXT` en cada Query:**
    *   *Por qu√© no:* Obliga a inyectar l√≥gica en la conexi√≥n de base de datos global.
    *   *Soluci√≥n:* Usar Triggers de Auditor√≠a (Fase 1) que son transparentes y no tocan c√≥digo.
4.  **Ciclo Completo de Activos (Reparaci√≥n Externa/Baja Contable):**
    *   *Por qu√© no:* Demasiados flujos de borde.
    *   *Soluci√≥n:* Nos centramos en el "Happy Path": Asignar -> Instalar -> Rastrear.

---

## üöÄ FASE 1: IMPACTO INMEDIATO (Listo para Ma√±ana)
Lo que construiremos hoy. Alto ROI visual y funcional.

### 1.1 Auditor√≠a Forense (Blindaje DB)
> Sugerencia ChatGPT: "Todo movimiento debe ser trazable."
*   **Acci√≥n:** Implementar **Triggers de Base de Datos** en la tabla `Inv_inv_stock`.
*   **Ganancia:** Si alguien pregunta "¬øQui√©n borr√≥ el stock?", mostramos la tabla de auditor√≠a. Irrefutable.
*   **Estado:** Script SQL ya listo en el Plan T√©cnico.

### 1.2 "Google" de Activos (UX Serializados)
> Sugerencia ChatGPT: "Control de activos serializados (ubicaci√≥n y estado real)."
*   **Acci√≥n:** Una barra de b√∫squeda global. Escaneas/Escribes "SN12345" y muestra la tarjeta de vida del equipo (Qui√©n lo tiene, D√≥nde est√°).
*   **Ganancia:** El efecto "Wow" de control total sobre el patrimonio.
*   **Estado:** Backend y Frontend por codificar hoy.

### 1.3 Sem√°foro de Stock en OTs (Prevenci√≥n Error)
> Sugerencia ChatGPT: "El sistema debe prevenir stock negativo."
*   **Acci√≥n:** En la pantalla de consumo OT, un indicador visual (üü¢/üî¥) *antes* de intentar guardar.
*   **Ganancia:** Evita la verg√ºenza de un error "500 Internal Server Error" en plena demo por falta de stock.
*   **Estado:** L√≥gica simple de frontend + validaci√≥n backend ligera.

### 1.4 Kardex Visual (Transparencia)
> Sugerencia ChatGPT: "Trazabilidad por OT/proyecto/t√©cnico."
*   **Acci√≥n:** Transformar la tabla aburrida de movimientos en una L√≠nea de Tiempo vertical.
*   **Ganancia:** Convierte datos crudos en una historia comprensible para los gerentes.
*   **Estado:** Componente React por hacer.

---

## üìÖ FASE 2: ROBUSTEZ OPERATIVA (Post-Demo / Semana 1)
Funciones vitales pero que no lucen tanto en una presentaci√≥n r√°pida.

1.  **Confirmaci√≥n Estricta de Transferencias:**
    *   Flujo de "En Tr√°nsito" real. (Bodega env√≠a -> Stock vuela -> T√©cnico recibe -> Stock aterriza).
2.  **App de Conteo F√≠sico:**
    *   El flujo: Snapshot -> Conteo Ciego -> Diferencia -> Aprobaci√≥n. Complejo pero necesario.
3.  **Proyectos:**
    *   C√°lculo de avance por tareas ponderadas.

---

## üìä FASE 3: M√ìDULO FINANCIERO (Mes 1)
"El dinero".

1.  **Liquidaci√≥n de Consignaci√≥n:**
    *   Reporte autom√°tico para proveedores: "Vendimos 100 m√≥dems tuyos, aqu√≠ est√° la factura".
2.  **Costeo de Proyectos:**
    *   Reporte de rentabilidad real (Materiales vs Presupuesto).

---

## ‚úÖ Orden de Batalla para HOY (Codificando YA)

1.  Escudo de Datos: **Ejecutar Triggers Auditor√≠a.**
2.  Buscador Inteligente: **Endpoint y Vista de Activos.**
3.  Experiencia de Usuario: **Sem√°foro Stock y Kardex Visual.**
4.  (Tiempo Extra): Reporte Financiero de Consignaci√≥n (Solo Vista SQL).

*Autor: Tu Copiloto de IA (Antigravity). Optimizado para velocidad.*
